/* Layout global */
:root {
  --color-turquoise: #067469;
  --color-primary-gradient: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  --color-primary-hover: #4f46e5;
}

body {
  background-color: var(--color-turquoise);
  min-height: 100vh;
}

.app {
  max-width: 1300px;
  margin: 0 auto;
  padding: 2rem;
}

.app__header {
  text-align: center;
  margin-bottom: 2rem;
}

.app__logo {
  max-width: 100%;
  height: auto;
  max-height: 120px;
  object-fit: contain;
}

/* App Content Grid - 3 Columns */
.app__content {
  display: flex;
  gap: 1.5rem;
  align-items: flex-start; /* Align top */
  justify-content: center;
  flex-wrap: nowrap;
}

/* Sections */
.app__calendar-section,
.app__board-section,
.app__logs-section {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.app__calendar-section {
  flex: 0 0 320px;
  min-width: 300px;
}

.app__board-section {
  flex: 0 0 auto;
  align-items: center;
  width: auto; 
}

.app__logs-section {
  flex: 1;
  min-width: 300px;
  max-width: 500px;
}

/* Card Style Generic */
.calendar,
.logs,
.app__count-panel {
  background: white;
  border-radius: 1.5rem;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  border: none;
}

/* --- Calendar Specifics --- */
.calendar {
  padding: 1.5rem;
  min-height: 400px; /* Ensure height */
}

.calendar__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.5rem;
}

.calendar__title {
  font-size: 1.25rem;
  font-weight: 800;
  color: #1e293b;
}

.calendar__header button {
  background: transparent;
  border: none;
  cursor: pointer;
  color: #94a3b8;
  padding: 0.25rem;
  border-radius: 50%;
  transition: all 0.2s;
}

.calendar__header button:hover {
  background-color: #f1f5f9;
  color: #6366f1;
}

.calendar__grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 0.5rem;
}

.calendar__weekday {
  text-align: center;
  font-size: 0.75rem;
  font-weight: 700;
  color: #94a3b8;
  padding-bottom: 0.5rem;
  text-transform: uppercase;
}

.calendar__cell {
  aspect-ratio: 1;
  border-radius: 50%; /* Rounded selection */
  cursor: pointer;
  font-size: 1rem;
  font-weight: 600;
  color: #334155;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
}

.calendar__cell.day:hover {
  background-color: #f1f5f9;
}

.calendar__cell.day.selected {
  background: var(--color-primary-gradient);
  color: white;
  box-shadow: 0 4px 6px -1px rgba(99, 102, 241, 0.4);
}

.calendar__cell.empty {
  cursor: default;
}

/* --- Buttons Area --- */
.app__buttons {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  width: 100%;
}

button.app__solve-button,
button.app__stop-button,
button.app__pieces-button {
  width: 100%;
  padding: 0.75rem 1.5rem; /* Pill sizing */
  border-radius: 2rem; /* Pill shape */
  font-size: 1rem;
  font-weight: 700;
  border: none;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.75rem;
  height: 50px;
}

.app__solve-button {
  background: var(--color-primary-gradient);
  color: white;
  box-shadow: 0 4px 6px -1px rgba(99, 102, 241, 0.3);
}

.app__solve-button:hover:not(:disabled) {
  opacity: 0.9;
  transform: translateY(-1px);
}

.app__button-icon {
  width: 24px;
  height: 24px;
  object-fit: contain;
  /* Rotate slightly for fun */
  transform: rotate(-10deg);
}

.app__solve-button:disabled {
  background: #cbd5e1;
  cursor: not-allowed;
  box-shadow: none;
}

.app__stop-button {
  background-color: white;
  color: #64748b;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

.app__stop-button:hover:not(:disabled) {
  background-color: #f8fafc;
  color: #ef4444; 
}

.app__pieces-button {
  background-color: transparent;
  color: white; /* On turquoise bg */
  font-size: 0.9rem;
  padding: 0.5rem;
  border-radius: 0.5rem;
  text-decoration: underline;
  opacity: 0.8;
}

.app__pieces-button:hover {
  opacity: 1;
  background-color: rgba(255,255,255,0.1);
  text-decoration: none;
}

/* --- Board --- */
.board {
  display: grid;
  gap: 6px;
  background-color: #111827; /* Darker board bg */
  padding: 12px;
  border-radius: 1.5rem;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.2);
}

.board__cell {
  width: 44px; /* Fixed size */
  height: 44px;
  background-color: #374151; /* Dark grey for empty */
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  color: #9ca3af;
  font-size: 0.9rem;
  user-select: none;
}

.board__cell.blocked {
  background-color: #1f2937;
  color: transparent;
}

.board__cell.visible {
  background-color: white;
  color: #111827;
  box-shadow: inset 0 0 0 2px white;
  font-weight: 800;
  z-index: 2;
}

/* Solution Info Banner - Hidden by default in new design or integrated differently? 
   The design puts info in the white card below. Keeping this minimal or removing if unused.
   Let's keep it minimal for error messages or status above board if needed.
*/
.app__solution-info {
  display: none; /* User wants layout to match image where info is in the bottom card */
}

/* Error message can stay above board */
.app__error {
  width: 100%;
  padding: 0.75rem;
  background-color: #fee2e2;
  color: #991b1b;
  border-radius: 0.75rem;
  text-align: center;
  font-weight: 600;
  margin-bottom: 0.5rem;
}

/* --- Count Panel (The white card below board) --- */
.app__count-panel {
  width: 100%;
  padding: 2rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: white;
  min-height: 200px; /* Bigger card */
  text-align: center;
}

.app__count-result {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  align-items: center;
}

.app__count-value {
  font-size: 1.8rem;
  font-weight: 900;
  color: #1e293b;
}

.app__count-meta {
  font-size: 0.9rem;
  color: #64748b;
}

.app__count-hint {
  font-size: 0.9rem;
  color: #94a3b8;
  font-style: italic;
  margin-top: 1rem;
}

.app__count-button {
  margin-top: 1rem;
  background-color: #0ea5e9; 
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 2rem;
  font-weight: 600;
  cursor: pointer;
}

/* --- Logs --- */
.logs {
  display: flex;
  flex-direction: column;
  height: 600px; /* Match board+card height approx */
  padding: 0;
  overflow: hidden;
  background: white;
}

.logs__header {
  padding: 1.5rem;
  border-bottom: 1px solid #f1f5f9;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.logs__title {
  font-weight: 800;
  font-size: 1rem;
  color: #64748b;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.logs__clear {
  background: none;
  border: none;
  color: #6366f1;
  font-weight: 600;
  cursor: pointer;
}

.logs__body {
  flex: 1;
  overflow-y: auto;
  padding: 1.5rem;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.85rem;
  line-height: 1.7;
  color: #334155;
}

/* --- Modal & Responsive --- */
/* Reuse existing modal styles but ensure z-index is high */
.modal { z-index: 1000; }

@media (max-width: 1100px) {
  .app__content {
    flex-wrap: wrap;
  }
  .app__logs-section {
    min-width: 100%;
    order: 3;
  }
  .logs { height: 300px; }
}

@media (max-width: 768px) {
  .app__content {
    flex-direction: column;
    align-items: center;
  }
  .app__calendar-section, 
  .app__board-section {
    width: 100%; 
    max-width: 400px;
  }
  
  .app__logo {
     max-height: 80px;
  }
}